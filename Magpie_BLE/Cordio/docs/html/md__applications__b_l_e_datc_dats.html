<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cordio: BLE_datc_dats</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cordio
   </div>
   <div id="projectbrief">Cordio Bluetooth Low Energy Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__applications__b_l_e_datc_dats.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">BLE_datc_dats </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>BLE Data Client and Data Server. These examples demonstrate a simple data client and server. The intent here is to show simple unformatted data exchange between two devices.</p>
<p>The Bluetooth specification does not define a simple data exchange protocol, similar to UART. We use a proprietary GATT service to offer this feature.</p>
<p>The data server will advertise with a devices name of "DATS". The data client will scan for this device and create a connection. Once the conneciton has been created and the client completes the discovery, it will enable notificaitons and indiciations on the proprietary data serivce. This will allow the server to transmit data to the client with notifications to the proprietary data characteristic. The client can transmit data to the server by writing to the proprietary data characteristic.</p>
<div class="image">
<img src="res/ADI_Attach_DATS.jpg" alt="ADI Attach connected to DATS"/>
</div>
<p>ADI Attach connected to DATS </p>
<h2>ARM Proprietary data service</h2>
<p><b>UUID:</b> E0262760-08C2-11E1-9073-0E8AC72E1001</p>
<p>This is a proprietary serivce is used for simple unformatted data exchange between the server and the client.</p>
<h2>Secure data service</h2>
<p><b>UUID:</b> 42FC367E-32D9-4285-87C6-339924D135BE</p>
<p>This is another proprietary service used for secure data exchange that requires elevated levels of encryption and authentication. Devices must be paired with LE Secure Connections to enable data transfer with this service.</p>
<h2>LEDs</h2>
<p>The red LED will indicate that an error assertion has occurred.</p>
<p>The green LED indicates CPU activity. When the LED is on, the CPU is active, when the LED is off, the CPU is in sleep mode.</p>
<h1>BLE_Dats</h1>
<p>Bluetooth data server that advertises as "DATS" and accepts connection requests. This exmaples contains two proprietary services that are used to show simple message passing to and from the data client.</p>
<h3>Expected Output</h3>
<p>On startup: </p><div class="fragment"><div class="line">terminal: init</div><div class="line">32kHz trimmed to 0x16</div><div class="line">DatsHandlerInit</div><div class="line">Dats got evt 32</div><div class="line">&gt;&gt;&gt; Reset complete &lt;&lt;&lt;</div><div class="line">dmAdvActConfig: state: 0</div><div class="line">dmAdvActSetData: state: 0</div><div class="line">dmAdvActSetData: state: 0</div><div class="line">dmAdvActStart: state: 0</div><div class="line">HCI_LE_ADV_ENABLE_CMD_CMPL_CBACK_EVT: state: 3</div><div class="line">dmDevPassEvtToDevPriv: event: 12, param: 33, advHandle: 0</div><div class="line">Dats got evt 33</div><div class="line">&gt;&gt;&gt; Advertising started &lt;&lt;&lt;</div><div class="line">Dats got evt 21</div><div class="line">Database hash updated</div></div><!-- fragment --><p>When a connection attempting to connect to the client. </p><div class="fragment"><div class="line">Dats got evt 21</div><div class="line">Database hash updated</div><div class="line">Dats got evt 153</div><div class="line">dmConnIdByBdAddr not found</div><div class="line">dmConnCcbAlloc 1</div><div class="line">dmConnSmExecute event=28 state=0</div><div class="line">dmAdvConnected: state: 1</div><div class="line">dmDevPassEvtToDevPriv: event: 13, param: 34, advHandle: 0</div><div class="line">smpDbGetRecord: connId: 1 type: 0</div><div class="line">smpDbAddDevice</div><div class="line">SmpDbGetFailureCount: connId: 1 count: 0</div><div class="line">smpDbGetRecord: connId: 1 type: 0</div><div class="line">smpDbAddDevice</div><div class="line">SmpDbGetPairingDisabledTime: connId: 1 period: 0 attemptMult: 0</div><div class="line">Dats got evt 39</div><div class="line">&gt;&gt;&gt; Connection opened &lt;&lt;&lt;</div><div class="line">Dats got evt 65</div><div class="line">Dats got evt 22</div><div class="line">smpSmExecute event=6 state=0</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">Dats got evt 49</div><div class="line">smpSmExecute event=2 state=2</div><div class="line">smpSmExecute event=17 state=3</div><div class="line">smpSmExecute event=4 state=5</div><div class="line">smpSmExecute event=6 state=4</div><div class="line">smpSmExecute event=20 state=6</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">Dats got evt 46</div><div class="line">&gt;&gt;&gt; Prompt user to enter passkey &lt;&lt;&lt;</div><div class="line">Dats got evt 87</div><div class="line">connId=1 idleMask=0x0005</div><div class="line">connId=1 idleMask=0x0005</div><div class="line">connId=1 idleMask=0x0005</div><div class="line">connId=1 idleMask=0x0005</div><div class="line">connId=1 idleMask=0x0005</div><div class="line">connId=1 idleMask=0x0005</div><div class="line">connId=1 idleMask=0x0005</div><div class="line">connId=1 idleMask=0x0005</div></div><!-- fragment --><p> When matching pins have been entered </p><div class="fragment"><div class="line">&gt; smpSmExecute event=4 state=13                                          </div><div class="line">Rand Nb                                                                  </div><div class="line">[52730a1e 080e2b3f 6d010f4b 0d29b8ac]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[520aab85 e23b56d5 70598231 64553242]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[634082f9 ae97841d 408a0609 d3149a0f]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[634082f9 ae97841d 408a0609 d3149a0f]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[2b4f65e1 41465986 1732c49b 0779c049]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[34b63e15 0a0b1d8a fbaac17d ae94c891]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[e7b74ec3 7bb660e0 fd3ffb69 a70fc1b5]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[e7b74ec3 7bb660e0 fd3ffb69 a70fc1b5]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[cb42c521 d4edb9cd fe2a5777 526d153d]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[58d9a8c4 c4710a1a bd41ed81 2e666953]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[d100648f ae87b3e0 850e96ef 3c2c9a47]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[d100648f ae87b3e0 850e96ef 3c2c9a47]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[21a3cd36 613f1834 c6e3d6fa 337e3f6c]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[314e5afe c5799362 0c3c7e01 54a62b7d]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[bc03c14d cf73fbab c64c8de8 65c9bd3f]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[bc03c14d cf73fbab c64c8de8 65c9bd3f]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[3e0cb037 9edea6c2 dfdd238f eee47a18]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[223876ac 32cfa06e 5764766f e655cfda]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[3a1dceac 4ed11dc5 60384042 5f625042]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[3a1dceac 4ed11dc5 60384042 5f625042]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[23ca1caf 70a3ba5b fd40e6ca db907405]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[0f969efc f159e4c6 588c68ae 5d1f9851]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[c34f8c33 3e16ee08 3cac6f79 1eea831f]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[c34f8c33 3e16ee08 3cac6f79 1eea831f]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[840f704c 59845fc2 47d5463a 9c68159b]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[f5a84dfe 36bdfc2d 410e133d 0c474039]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[e27af695 a9227a18 74c2ba3d 57ed5254]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[e27af695 a9227a18 74c2ba3d 57ed5254]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[5558d557 ba639669 226f7665 98ba1755]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[c8158453 c50a9448 236c7bd5 fe249a0d]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[530da1cb 834ec9fa 6076fd05 037dce54]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[530da1cb 834ec9fa 6076fd05 037dce54]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[9f57fda8 897aac72 810475a4 eda95e4c]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[12494fdf 83718797 5efa3ff7 4e230a9d]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[b9c97dbe 7a725ab4 20c59148 10821669]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[b9c97dbe 7a725ab4 20c59148 10821669]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[564e5d0e 2605341f 4d5b6913 0c89c1aa]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[a8b37963 eafdcaee ecbf62ab a23f686a]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[b1387cd1 054a3616 3a73b06d 085e74b7]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[b1387cd1 054a3616 3a73b06d 085e74b7]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[fc4d0a4e 2e6ca8f1 65f242a8 88876d0e]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[623c1256 7e20dba1 f5257b86 11b54ece]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[4540e3cd 77e8ac57 8024607c 0de42ce2]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[4540e3cd 77e8ac57 8024607c 0de42ce2]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[144e1412 64996fa0 d686011f 7913327d]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[b354740a 3d097abc e33af952 cffc0e8a]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[ba1e5505 2e488dda b984bd08 2d07fdeb]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[ba1e5505 2e488dda b984bd08 2d07fdeb]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[2596e6cd 44929e11 9791ba02 62e3feef]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[3790e2f7 96ca63b6 826bbf5c 077c3f31]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[fe05bd6a 1f277dee 124de8b0 02c03343]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[fe05bd6a 1f277dee 124de8b0 02c03343]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[06175016 3aabb9f3 f3aa5925 c9b8a43d]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[57d2399c 89fbc8f0 3ee71020 f66b45d5]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[c2dff69b 7ae8eba8 e92f3b57 ff3978c7]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[c2dff69b 7ae8eba8 e92f3b57 ff3978c7]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[5c70daab 66fe0495 07d0e27d 824d9865]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[f03928aa 2324a2ca 8c3c1fd8 9d589afe]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[9f8dec26 018dcea5 0cc56156 32b9107b]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[9f8dec26 018dcea5 0cc56156 32b9107b]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[fd89b81d e2b3fdaf f22cf4c4 b39da763]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[c005af08 39334b4a ac68cf0a ca5acc00]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[94681382 aa6a4d27 1b8eb879 a5ed8043]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[94681382 aa6a4d27 1b8eb879 a5ed8043]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[5b0789ba 4bd1a9f8 10e15f9d 0dbd4ac2]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[b719fe1d 02e6cc10 8776a1b4 0bc0fa6b]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[3f8a85da fad78d81 0c8e0733 876df6fb]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[3f8a85da fad78d81 0c8e0733 876df6fb]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[c0c90b30 03659e86 a143abe4 ec289e73]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[d02d6808 35888e79 55e04238 f0930c07]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[4efc0b02 bcd8bc6a ac93b70c effeaee1]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[4efc0b02 bcd8bc6a ac93b70c effeaee1]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[96aab51d 5e627668 ba927ed6 d1192554]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[49660e21 5b3e82cd 32e3ac9a d839ad2d]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[2db916d0 32b02469 1711edf5 812ae090]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[2db916d0 32b02469 1711edf5 812ae090]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=26 state=18                                           </div><div class="line">smpSmExecute event=6 state=14                                            </div><div class="line">Rand Nb                                                                  </div><div class="line">[d9e874e4 9b02cb3f 9aac021d 7ad59561]                                    </div><div class="line">smpSmExecute event=28 state=15                                           </div><div class="line">Cbi                                                                      </div><div class="line">[837b81cf 6c409caa c29a550b 649b2c46]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=16                                            </div><div class="line">smpSmExecute event=28 state=17                                           </div><div class="line">Ca                                                                       </div><div class="line">[f3d0b1b5 76097bfb 14418e57 6d3c11ba]                                    </div><div class="line">Ca Peer                                                                  </div><div class="line">[f3d0b1b5 76097bfb 14418e57 6d3c11ba]                                    </div><div class="line">smpSmExecute event=27 state=18                                           </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=6 state=21                                            </div><div class="line">smpSmExecute event=25 state=22                                           </div><div class="line">DHKey (Shared Secret)                                                    </div><div class="line">[bf891259 97f62954 0f8d8934 5bcd585f]                                    </div><div class="line">[48fc2eb4 4c6f5c19 b8f817a9 907571b3]                                    </div><div class="line">smpSmExecute event=28 state=23                                           </div><div class="line">T                                                                        </div><div class="line">[72c2ed8a fe1ae569 8237053f b5af654c]                                    </div><div class="line">smpSmExecute event=28 state=24                                           </div><div class="line">MAC                                                                      </div><div class="line">[273eaeb4 163166a1 362c8773 888811aa]                                    </div><div class="line">smpSmExecute event=28 state=25                                           </div><div class="line">LTK                                                                      </div><div class="line">[7eacbbfe 776de847 1b78effc 32e84ba5]                                    </div><div class="line">smpSmExecute event=28 state=26                                           </div><div class="line">DHKey Ea                                                                 </div><div class="line">[e619e7cf 7d654f17 f621cb5c f6dd720b]                                    </div><div class="line">smpSmExecute event=28 state=27                                           </div><div class="line">DHKey Eb                                                                 </div><div class="line">[1e72f16f dcab7a66 2787c1ce ee93d5ec]                                    </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">connId=1 idleMask=0x0001                                                 </div><div class="line">smpSmExecute event=8 state=36                                            </div><div class="line">Dats got evt 44                                                          </div><div class="line">&gt;&gt;&gt; Connection encrypted &lt;&lt;&lt;                                             </div><div class="line">Dats got evt 47                                                          </div><div class="line">smpSmExecute event=12 state=37                                           </div><div class="line">smpSmExecute event=12 state=37                                           </div><div class="line">smpSmExecute event=6 state=37                                            </div><div class="line">smpSmExecute event=6 state=37                                            </div><div class="line">smpSmExecute event=14 state=37                                           </div><div class="line">connId=1 idleMask=0x0000                                                 </div><div class="line">Dats got evt 47                                                          </div><div class="line">Dats got evt 42                                                          </div><div class="line">&gt;&gt;&gt; Pairing completed successfully &lt;&lt;&lt;                                   </div><div class="line">dmDevPassEvtToDevPriv: event: 13, param: 1, advHandle: 0                 </div><div class="line">Dats got evt 58                                                          </div><div class="line">Dats got evt 63                                                          </div><div class="line">Dats got evt 153                       </div></div><!-- fragment --><p> When PHY change performed </p><div class="fragment"><div class="line">&gt; btn 2 s</div><div class="line">Short Button 2 Press</div><div class="line">2 MBit TX and RX PHY Requested</div><div class="line">Dats got evt 70</div><div class="line">DM_PHY_UPDATE_IND - RX: 2, TX: 2</div><div class="line">Dats got evt 65</div><div class="line">App got evt 16</div><div class="line">App got evt 16</div><div class="line">connId=1 idleMask=0x0000</div><div class="line">&gt; btn 2 s</div><div class="line">Short Button 2 Press</div><div class="line">LE Coded S2 TX and RX PHY Requested</div><div class="line">Dats got evt 70</div><div class="line">DM_PHY_UPDATE_IND - RX: 3, TX: 3</div><div class="line">Dats got evt 65</div><div class="line">App got evt 16</div><div class="line">App got evt 16</div><div class="line">dmConnUpdExecute event=113 state=3</div><div class="line">dmConnSmExecute event=30 state=3</div><div class="line">Dats got evt 41</div><div class="line">&gt; btn 2 s</div><div class="line">Short Button 2 Press</div><div class="line">LE Coded S8 TX and RX PHY Requested</div><div class="line">Dats got evt 70</div><div class="line">DM_PHY_UPDATE_IND - RX: 3, TX: 3</div><div class="line">&gt; btn 2 s</div><div class="line">Short Button 2 Press</div><div class="line">1 MBit TX and RX PHY Requested</div><div class="line">Dats got evt 70</div><div class="line">DM_PHY_UPDATE_IND - RX: 1, TX: 1</div><div class="line">Dats got evt 65</div></div><!-- fragment --><p> When message received from peer </p><div class="fragment"><div class="line">hello world</div><div class="line">hciCoreTxAclStart len=18</div><div class="line">Dats got evt 18</div></div><!-- fragment --><p> When secure message recevied from peer </p><div class="fragment"><div class="line">&gt;&gt; Received secure data &lt;&lt;                                               </div><div class="line">Secret number is 0x42                                                    </div><div class="line">Dats got evt 18 </div></div><!-- fragment --> <h3>Commands</h3>
<p>Type the desired command and parameter (if applicable) and press enter to execute the command.</p>
<p><b>help</b> Displays the available commands. <b>echo (on|off)</b> Enables or disables the input echo. On by default. <b>btn (ID) (s|m|l|x)</b> Simulates button presses. Example: "btn 1 s" for a short button press on button 1. <b>pin (ConnID) (Pin Code)</b> Used to input the pairing pin code.</p>
<h2>Push buttons</h2>
<p>Push buttons can be used to interact with the application.</p>
<p><b>short</b> press is less than 200 ms <b>medium</b> press is between 200 and 500 ms <b>long</b> press is between 500 and 1000 ms <b>extra long</b> press is greater than 1000 ms</p>
<h3>When disconnected</h3>
<ol type="1">
<li>Button 1 short press: Start advertising</li>
<li>Button 1 medium press: Enter bondable mode</li>
<li>Button 1 long press: Clear all bonding info</li>
<li>Button 1 extra long press: Show version info</li>
<li>Button 2 short press: Stop advertising</li>
</ol>
<h3>When connected</h3>
<ol type="1">
<li>Button 2 short press: Change PHY (1M-2M-Coded_S2-Coded_S8)</li>
</ol>
<h1>BLE_Datc</h1>
<p>Bluetooth data client that scans and connections to devices advertising with the device name "DATS". The client will automatically discover the profiles and services on the device, subscribing to notifications and indications to enable the unformatted data exchange with the proprietary data service.</p>
<h3>Expected Output</h3>
<p>On startup: </p><div class="fragment"><div class="line">terminal: init</div><div class="line">32kHz trimmed to 0xF</div><div class="line">DatcHandlerInit</div><div class="line">Calculating database hash</div><div class="line">Datc got evt 32</div><div class="line">&gt;&gt;&gt; Reset complete &lt;&lt;&lt;</div><div class="line">Datc got evt 58</div><div class="line">Database hash calculation complete</div><div class="line">Datc got evt 21</div><div class="line">Database hash updated</div><div class="line">dmDevPassEvtToDevPriv: event: 13, param: 1, advHandle: 0</div><div class="line">Datc got evt 63</div><div class="line">Datc got evt 153</div><div class="line">dmDevPassEvtToDevPriv: event: 12, param: 36, advHandle: 0</div><div class="line">Datc got evt 36</div><div class="line">&gt;&gt;&gt; Scanning started &lt;&lt;&lt;</div></div><!-- fragment --><p>When a scan report has been received: </p><div class="fragment"><div class="line">Scan Report:                                                                  </div><div class="line">  55:CF:67:1F:6F:27                                                           </div><div class="line">Scan Report:                                                                  </div><div class="line">  00:05:8B:44:12:02                                                           </div><div class="line">  Name: Fit</div></div><!-- fragment --><p>When server has been found: </p><div class="fragment"><div class="line">Scan Report:</div><div class="line">  00:18:80:04:52:1F</div><div class="line">  Name: DATS</div><div class="line">dmDevPassEvtToDevPriv: event: 13, param: 37, advHandle: 0</div><div class="line">Datc got evt 37</div><div class="line">Scan results: 4</div><div class="line">dmConnIdByBdAddr not found</div><div class="line">dmConnCcbAlloc 1</div><div class="line">&gt;&gt;&gt; Scanning stopped &lt;&lt;&lt;</div><div class="line">dmConnSmExecute event=24 state=0</div><div class="line">dmDevPassEvtToDevPriv: event: 14, param: 0, advHandle: 0</div><div class="line">dmConnSmExecute event=28 state=1</div><div class="line">dmDevPassEvtToDevPriv: event: 14, param: 1, advHandle: 0</div><div class="line">dmDevPassEvtToDevPriv: event: 12, param: 39, advHandle: 0</div><div class="line">smpDbGetRecord: connId: 1 type: 0</div><div class="line">smpDbAddDevice</div><div class="line">SmpDbGetFailureCount: connId: 1 count: 0</div><div class="line">smpDbGetRecord: connId: 1 type: 0</div><div class="line">smpDbAddDevice</div><div class="line">SmpDbGetPairingDisabledTime: connId: 1 period: 0 attemptMult: 0</div><div class="line">Datc got evt 39</div><div class="line">&gt;&gt;&gt; Connection opened &lt;&lt;&lt;</div><div class="line">smpSmExecute event=1 state=0</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">Datc got evt 65</div><div class="line">Datc got evt 22</div><div class="line">smpSmExecute event=6 state=1</div><div class="line">smpSmExecute event=17 state=2</div><div class="line">smpSmExecute event=4 state=3</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">Datc got evt 87</div><div class="line">Datc got evt 4</div><div class="line">connId=1 idleMask=0x0009</div><div class="line">smpSmExecute event=6 state=4</div><div class="line">smpSmExecute event=20 state=5</div><div class="line">Datc got evt 46</div><div class="line">&gt;&gt;&gt; Prompt user to enter passkey &lt;&lt;&lt;</div><div class="line">Datc got evt 3</div><div class="line">AttcDiscServiceCmpl status 0x00</div><div class="line">Datc got evt 4</div><div class="line">AttcDiscCharCmpl status 0x79</div><div class="line">Datc got evt 4</div><div class="line">AttcDiscCharCmpl status 0x79</div><div class="line">Datc got evt 2</div><div class="line">AttcDiscCharCmpl status 0x00</div><div class="line">connId=1 idleMask=0x0009</div><div class="line">Datc got evt 3</div><div class="line">AttcDiscServiceCmpl status 0x00</div><div class="line">Datc got evt 4</div><div class="line">AttcDiscCharCmpl status 0x79</div><div class="line">Datc got evt 4</div><div class="line">AttcDiscCharCmpl status 0x00</div><div class="line">connId=1 idleMask=0x0009</div><div class="line">Datc got evt 3</div><div class="line">AttcDiscServiceCmpl status 0x00</div><div class="line">Datc got evt 4</div><div class="line">AttcDiscCharCmpl status 0x79</div><div class="line">Datc got evt 4</div><div class="line">AttcDiscCharCmpl status 0x79</div><div class="line">Datc got evt 2</div><div class="line">AttcDiscCharCmpl status 0x00</div><div class="line">connId=1 idleMask=0x0009</div><div class="line">Datc got evt 3</div><div class="line">AttcDiscServiceCmpl status 0x00</div><div class="line">Datc got evt 4</div><div class="line">AttcDiscCharCmpl status 0x79</div><div class="line">Datc got evt 4</div><div class="line">AttcDiscCharCmpl status 0x79</div><div class="line">Datc got evt 2</div><div class="line">AttcDiscCharCmpl status 0x79</div><div class="line">Datc got evt 2</div><div class="line">AttcDiscCharCmpl status 0x00</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">AppDiscComplete connId:1 status:0x04</div><div class="line">connId=1 idleMask=0x0009</div><div class="line">Datc got evt 9</div><div class="line">AttcDiscConfigCmpl status 0x79</div><div class="line">Datc got evt 9</div><div class="line">AttcDiscConfigCmpl status 0x79</div><div class="line">Datc got evt 9</div><div class="line">AttcDiscConfigCmpl status 0x79</div><div class="line">Datc got evt 9</div><div class="line">AttcDiscConfigCmpl status 0x00</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">AppDiscComplete connId:1 status:0x08                                                                               </div></div><!-- fragment --><p> After entering a pin </p><div class="fragment"><div class="line">pin 1 12345</div><div class="line">&gt; smpSmExecute event=4 state=11</div><div class="line">Rand Na</div><div class="line">[5fa96af9 f434b4de 3e452813 fef4f5eb]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[57964640 e18b1aa1 8ea7d8b2 2eb274c3]</div><div class="line">connId=1 idleMask=0x0001</div></div><!-- fragment --><p>Once server enters a matching pin and encrypted connection is established </p><div class="fragment"><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[7e2523a4 be6a8923 8ef900bf d4eaa458]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[efb856be 61bd11a8 2dff39c0 1f5d4d91]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[65f7c942 8c216010 cc73fdc9 bd21120e]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[db4858f8 33a964c1 e35ba27c 1f07e7db]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[9904fded 40ea2bb1 dfabe4be b9bcba45]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[1362d0db 074d32ea 32d0e79c 1155a20b]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[efd27c04 96ff72e0 c893bf54 9c524f0a]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[5ba16640 fd3af1ae afc6d035 d8eb1fa5]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[79603efa ad87d2cd bdc4c83b 17dcffe6]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[c1221276 73df3bf7 90e8df64 741909c1]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[59ea06d0 760407f7 87415144 fe234a1e]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[40b9915c af4a8712 c81e98f9 f197953a]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[325fe15b 5a6862e1 f4de459d 6c91c220]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[4c56f9f9 b1d91236 8dfb81f8 b0629bb7]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[c2fb6b18 63cb9311 d53c3333 0a2924cf]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[7725d42d 35f8e465 b3b6cfed 9bfe125a]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[3909e384 45979c24 c85d36d3 fc2bd4bf]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[9e570480 195412a0 07c84616 36cd6a06]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[1bce9472 21f7d6c4 4f8fe62b 91ac2271]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[fe57e223 78ca04e3 cd13bd82 ad43289c]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[42ba2b2e bd35ebe6 56c59b28 957639d2]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[a35acba5 00eba332 31442e10 aea9dacf]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[71aa44ad abe2d668 07b79f02 d2a974dc]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[5b02fce8 f92549ca 54bea290 c9fdfd1b]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[4a52c87c a504c8cf 49d9e8f0 1a69aca2]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[0f87eb54 83f4f78b 754d2f74 1b406c0d]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[16a9ba43 8c8b39d2 912f1f85 3f738170]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[b2aa1f53 802fa4ad 3e415844 4953c931]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[466db705 9fd2d031 35759a3f 45869950]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[004c8d5f 4413efb9 f60c10c2 8af82058]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[6b93dfa8 91d6bc27 fbb7142a 778d6eab]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[4d0cfaee 277f0959 ee9ad6b5 bf89e129]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[b977b373 4fdeb62d 4b9fc6dd 0cd58ccb]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[7d734f74 37d7575f 9a2176fe 9e0d7793]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[aa704717 22c5a505 922ea504 c8f32c21]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[b8db800a c2cfb643 0ad2127e 154b27e3]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[fb8bfb47 1db075d6 c10dfe20 275580a6]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[6715c20d 284d6526 c826990b c0266d4d]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[9a07bded 4652b3b3 04e58dd3 ddc41f5b]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[9b11572d 6ac46706 2a42ddf7 fa3f7eb6]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[276b1950 0160195c 2ca2749e 04cc0bba]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[7811b835 1ee6cd01 b35e0068 b0e995a2]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[febf4094 ccf93969 adc4d7e3 c3f26246]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[31c8d021 62bd5eb6 470c008d 0f9a8f69]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[6cc99436 0835e6bf b7ccd2a8 81eb7c2d]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[314f5edd e73e8b9e 865c3924 c438e032]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[4f46b9ce 57474f8d 8d00a000 74bdea15]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[baea7468 fabb299a 837bbbfb c47572e2]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[f8a46358 201aab0a ae9aae2c 0c32fb92]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[b80a6511 3c82e7e6 055243e6 a45202a6]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[24c084e8 e92b8e03 1a37f096 f4d5c31f]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[04aa43e8 dac7aa2a 490e6154 11b81966]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[16bc0b9f a93b2745 729a08b9 85682b0d]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[a5caa3a1 b7b66eaa f113972c 88645db6]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[831b8daf 7ae674d8 e2c5fbc3 9fc27be3]</div><div class="line">smpSmExecute event=26 state=16</div><div class="line">Rand Na</div><div class="line">[3a8e02cf 001e84b3 08d9a24e 19ff9b18]</div><div class="line">smpSmExecute event=28 state=12</div><div class="line">Cai</div><div class="line">[bf5345f1 299bca3f 0c99eac6 3ea96052]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=13</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=14</div><div class="line">smpSmExecute event=28 state=15</div><div class="line">Cbi</div><div class="line">[0a4dec2e 6aebc804 7bb1a21b aadc18c1]</div><div class="line">smpSmExecute event=27 state=16</div><div class="line">smpSmExecute event=25 state=19</div><div class="line">DHKey (Shared Secret)</div><div class="line">[7cf8b651 6c0f5bff 7d66bbf6 d8d85abd]</div><div class="line">[0ef6bf2d 85a594d2 f55dccc3 6f98dd1d]</div><div class="line">smpSmExecute event=28 state=20</div><div class="line">T</div><div class="line">[a02f2c9d 9a153f28 0bde8cb2 ab2a7b84]</div><div class="line">smpSmExecute event=28 state=21</div><div class="line">MAC</div><div class="line">[66ebd01a c4818e8b 1cec71bf f0644ed9]</div><div class="line">smpSmExecute event=28 state=22</div><div class="line">LTK</div><div class="line">[b4cad222 8324e2fb 71bbca0f 04bfc828]</div><div class="line">smpSmExecute event=28 state=23</div><div class="line">DHKey Ea</div><div class="line">[a2925a68 0b71e9c3 065a959d 39079b01]</div><div class="line">smpSmExecute event=28 state=24</div><div class="line">DHKey Eb</div><div class="line">[3ed3c373 5b99fc5e 16577603 7a1ba181]</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=6 state=25</div><div class="line">connId=1 idleMask=0x0001</div><div class="line">smpSmExecute event=8 state=34</div><div class="line">Datc got evt 44</div><div class="line">&gt;&gt;&gt; Connection encrypted &lt;&lt;&lt;</div><div class="line">smpSmExecute event=6 state=35</div><div class="line">smpSmExecute event=6 state=35</div><div class="line">smpSmExecute event=12 state=35</div><div class="line">Datc got evt 47</div><div class="line">Datc got evt 47</div><div class="line">smpSmExecute event=12 state=35</div><div class="line">smpSmExecute event=12 state=35</div><div class="line">smpSmExecute event=14 state=35</div><div class="line">connId=1 idleMask=0x0000</div><div class="line">Datc got evt 42</div><div class="line">&gt;&gt;&gt; Pairing completed successfully &lt;&lt;&lt;</div><div class="line">dmDevPassEvtToDevPriv: event: 13, param: 1, advHandle: 0</div><div class="line">Datc got evt 58</div><div class="line">Datc got evt 63</div></div><!-- fragment --><p> Simple message passing to peer: </p><div class="fragment"><div class="line">btn 2 l</div><div class="line">Long Button 2 Press</div><div class="line">&gt; Datc got evt 10</div><div class="line">Datc got evt 13</div><div class="line">hello back</div></div><!-- fragment --><p> Secure message passing to peer: </p><div class="fragment"><div class="line">btn 2 m</div><div class="line">Medium Button 2 Press</div><div class="line">&gt; Datc got evt 10</div><div class="line">Datc got evt 13</div><div class="line">&gt;&gt; Notification from secure data service &lt;&lt;&lt;</div><div class="line">Secure data received!</div></div><!-- fragment --><p>On PHY change request: </p><div class="fragment"><div class="line">btn 1 x</div><div class="line">XL Button 1 Press</div><div class="line">2 MBit TX and RX PHY Requested</div><div class="line">&gt; Datc got evt 70</div><div class="line">DM_PHY_UPDATE_IND - RX: 2, TX: 2</div><div class="line">Datc got evt 65</div><div class="line">btn 1 x</div><div class="line">XL Button 1 Press</div><div class="line">LE Coded S2 TX and RX PHY Requested</div><div class="line">&gt; Datc got evt 70</div><div class="line">DM_PHY_UPDATE_IND - RX: 3, TX: 3</div><div class="line">Datc got evt 65</div><div class="line">btn 1 x</div><div class="line">XL Button 1 Press</div><div class="line">LE Coded S8 TX and RX PHY Requested</div><div class="line">&gt; Datc got evt 70</div><div class="line">DM_PHY_UPDATE_IND - RX: 3, TX: 3</div><div class="line">btn 1 x</div><div class="line">XL Button 1 Press</div><div class="line">1 MBit TX and RX PHY Requested</div><div class="line">&gt; Datc got evt 70</div><div class="line">DM_PHY_UPDATE_IND - RX: 1, TX: 1</div><div class="line">Datc got evt 65</div></div><!-- fragment --><p>Data Transfer Speed test (1M PHY): </p><div class="fragment"><div class="line">btn 2 x</div><div class="line">XL Button 2 Press</div><div class="line">Starting speed test</div><div class="line">...</div><div class="line">flowDisabled=1 handle=0</div><div class="line">flowDisabled=0 handle=0</div><div class="line">9520000 bits transferred in 18823249 us</div><div class="line">505757 bps</div></div><!-- fragment --><p>Data Transfer Speed test (2M PHY): </p><div class="fragment"><div class="line">btn 2 x</div><div class="line">XL Button 2 Press</div><div class="line">Starting speed test</div><div class="line">...</div><div class="line">flowDisabled=1 handle=0</div><div class="line">flowDisabled=0 handle=0</div><div class="line">9520000 bits transferred in 9413977 us</div><div class="line">1011262 bps</div></div><!-- fragment --><h3>Commands</h3>
<p>Type the desired command and parameter (if applicable) and press enter to execute the command.</p>
<p><b>help</b> Displays the available commands. <b>echo (on|off)</b> Enables or disables the input echo. On by default. <b>btn (ID) (s|m|l|x)</b> Simulates button presses. Example: "btn 1 s" for a short button press on button 1. <b>pin (ConnID) (Pin Code)</b> Used to input the pairing pin code.</p>
<h2>Push buttons</h2>
<p>Push buttons can be used to interact with the application.</p>
<p><b>short</b> : press is less than 200 ms <b>medium</b> : press is between 200 and 500 ms <b>long</b> : press is between 500 and 1000 ms <b>extra long</b> : press is greater than 1000 ms</p>
<h3>When disconnected</h3>
<ol type="1">
<li>Button 1 short: Start/Stop scanning</li>
<li>Button 1 medium: Cycle through the connection index (select connection)</li>
<li>Button 1 long: Clear all bonding info</li>
<li>Button 1 extra long: Add RPAO characteristic to GAP service &ndash; needed only when DM Privacy enabled</li>
<li>Button 2 extra long: Enable device privacy &ndash; start generating local RPAs every 15 minutes</li>
</ol>
<h3>When connected</h3>
<ol type="1">
<li>Button 1 short: Start/Stop scanning</li>
<li>Button 1 medium: Cycle through connection index (select connection)</li>
<li>Button 1 long: Close selected connection</li>
<li>Button 2 short: Request PHY change (1M-2M-S2-S8) Only for BLE5 version.</li>
<li>Button 2 medium : Send secure message to peer</li>
<li>Button 2 long: Send short message to peer</li>
<li>Button 2 extra long: Start data transfer speed test </li>
</ol>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 19 2024 15:40:04 for Cordio by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
